/*
 * In-Field Label jQuery Plugin
 *
 * Branch Author:
 *   Copyright (c) 2009 Paul Elliott with Red-Line IT
 *   http://github.com/paulelliott/In-Field-Labels-jQuery-Plugin/tree/master
 *
 * Original Author:
 *   Copyright (c) 2009 Doug Neiner
 *   http://fuelyourcoding.com/scripts/infield.html
 *
 * Dual licensed under the MIT and GPL licenses.
 * Uses the same license as jQuery, see:
 * http://docs.jquery.com/License
 *
 * @version 0.2
 */
(function(b){b.InFieldLabels=function(d,f,c){var e=this;e.$label=b(d);e.label=d;e.$field=b(f);e.field=f;e.$label.data("InFieldLabels",e);e.showing=true;e.init=function(){e.options=b.extend({},b.InFieldLabels.defaultOptions,c);if(e.$field.val()!=""){e.$label.hide();e.showing=false;}e.$field.focus(function(){e.fadeOnFocus();}).blur(function(){e.checkForEmpty(true);}).bind("keydown.infieldlabel",function(g){e.hideOnChange(g);}).change(function(g){e.checkForEmpty();}).bind("onPropertyChange",function(){e.checkForEmpty();});};e.fadeOnFocus=function(){e.showing&&e.setOpacity(e.options.fadeOpacity);};e.setOpacity=function(g){e.$label.stop().animate({opacity:g},e.options.fadeDuration);e.showing=(g>0);};e.checkForEmpty=function(g){if(e.$field.val()==""){e.prepForShow();e.setOpacity(g?1:e.options.fadeOpacity);}else{e.setOpacity(0);}};e.prepForShow=function(g){if(!e.showing){e.$label.css({opacity:0}).show();e.$field.bind("keydown.infieldlabel",function(h){e.hideOnChange(h);});}};e.hideOnChange=function(g){if((g.keyCode==16)||(g.keyCode==9)){return;}if(e.showing){e.$label.hide();e.showing=false;}e.$field.unbind("keydown.infieldlabel");};e.init();};b.InFieldLabels.defaultOptions={fadeOpacity:0.5,fadeDuration:300,padding:true};b.fn.inFieldLabels=function(c){if(c==="remove"){return this.each(function(){var e=b(this);e.inFieldLabels("get").remove();e.removeData("jquery-infieldlabel-id");});}else{if(c==="get"){var d=[];this.each(function(){d=b.merge(d,b.makeArray(b("#"+b(this).data("jquery-infieldlabel-id"))));});return b(d);}else{if(!c){c={};}else{if(typeof c==="string"){c={text:c};}}c=b.extend({},b.InFieldLabels.defaultOptions,c);return this.each(function(){var h=b(this);var g="infieldlabel"+a++;h.data("jquery-infieldlabel-id",g);b("body").append("<label id='"+g+"' for='"+this.id+"' class='infieldlabel' style='position:absolute;'>"+c.text+"</label>");var e=b("#"+g);e.click(function(){h.focus();return false;});var f=h.offset();if(c.padding===true){c.padding=((h.outerHeight()-h.height())/2)+"px "+(((h.outerWidth()-h.width())/2))+"px";}e.css({"z-index":99999,top:f.top+"px",left:f.left+"px"});if(c.padding){e.css("padding",c.padding);}(new b.InFieldLabels(e[0],this,c));});}}};var a=0;})(jQuery);
